<!DOCTYPE html>
<html>
<head>
<title>Nuuksion tulipaikat & palvelut</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  body { margin: 0; padding: 0; }
  #map { width: 100%; height: 100vh; }
  .marker-icon { font-size: 22px; line-height: 1; }
  .leaflet-popup-content { font-family: -apple-system, sans-serif; max-width: 220px; }
  .leaflet-popup-content h3 { margin: 0 0 4px 0; font-size: 14px; }
  .leaflet-popup-content p { margin: 0 0 8px 0; font-size: 12px; color: #555; line-height: 1.4; }
  .leaflet-popup-content .btn-row { display: flex; gap: 5px; flex-wrap: wrap; }
  .leaflet-popup-content a.btn {
    display: inline-block;
    color: white;
    padding: 5px 9px;
    border-radius: 4px;
    text-decoration: none;
    font-size: 11px;
    font-weight: bold;
  }
  .btn-nav { background: #4285f4; }
  .btn-nav:hover { background: #3367d6; }
  .btn-info { background: #34a853; }
  .btn-info:hover { background: #2d8f47; }
  .legend {
    background: white;
    padding: 10px 14px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,.3);
    font-family: -apple-system, sans-serif;
    font-size: 12px;
    line-height: 1.8;
  }
  .legend b { display: block; margin-bottom: 4px; }
</style>
</head>
<body>
<div id="map"></div>
<script>
const map = L.map('map').setView([60.305, 24.51], 13);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '¬© OpenStreetMap',
  maxZoom: 18
}).addTo(map);

function icon(emoji) {
  return L.divIcon({ html: emoji, className: 'marker-icon', iconSize: [22, 22], iconAnchor: [11, 11] });
}

function popup(emoji, name, desc, lat, lng, url) {
  const gmaps = `https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}&travelmode=walking`;
  const infoBtn = url ? `<a class="btn btn-info" href="${url}" target="_blank">‚ÑπÔ∏è Info</a>` : '';
  return `<h3>${emoji} ${name}</h3><p>${desc}</p><div class="btn-row"><a class="btn btn-nav" href="${gmaps}" target="_blank">üìç Navigate</a>${infoBtn}</div>`;
}

// üî• Fireplaces
const fires = [
  { name:"Haukanholma", lat:60.2983, lng:24.5105, desc:"Keittokatos, tulipaikka, telttailualue, k√§ym√§l√§. Suosituin!", url:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/haukanholman-tulipaikka" },
  { name:"Mustalampi", lat:60.2948, lng:24.5148, desc:"2 keittokatosta, k√§ym√§l√§t, telttailualueet. Kelluvat turvelautat!", url:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/mustalammen-tulipaikat" },
  { name:"Holma-Saarij√§rvi", lat:60.2910, lng:24.4968, desc:"It√§- ja l√§nsipuolella. It√§inen saaressa + laavu.", url:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/saarilammen-tulipaikka" },
  { name:"Iso-Holma", lat:60.3015, lng:24.4920, desc:"2 tulipaikkaa ~200m p√§√§ss√§. Telttailu, k√§ym√§l√§.", url:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/iso-holman-tulipaikat" },
  { name:"Urja", lat:60.2845, lng:24.5940, desc:"Tulipaikka + telttailu Urja-j√§rven rannalla.", url:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/urjan-tulipaikka" },
  { name:"V√§√§r√§j√§rvi", lat:60.2960, lng:24.6210, desc:"Tulipaikka + telttailu, k√§ym√§l√§.", url:"https://naturaviva.fi/fi_FI/vaarajarven-tulipaikka" },
  { name:"Kattila", lat:60.3175, lng:24.4990, desc:"Keittokatos, k√§ym√§l√§, varauskota, -tupa, 2 saunaa. Hiidenkirnu!", url:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/kattilan-tulipaikka" },
  { name:"Kattilaj√§rvi", lat:60.2870, lng:24.5350, desc:"Keittokatos, uimaranta + laituri, kaivo. Telttailu.", url:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/kattilajarven-tulipaikka" },
  { name:"Koivu (Salmi)", lat:60.3635, lng:24.5145, desc:"Tulipaikka, ulkoilumaja, uimaranta.", url:null },
  { name:"Kanaholma (Salmi)", lat:60.3638, lng:24.5100, desc:"Keittokatos j√§rven rannalla.", url:null },
];

// üÖøÔ∏è Parking
const parking = [
  { name:"Haukkalampi P", lat:60.2995, lng:24.5070, desc:"P√§√§parkkipaikka. Haukkalammentie 32, Espoo. Usein t√§ynn√§ viikonloppuisin!" },
  { name:"Kattila P", lat:60.3190, lng:24.4945, desc:"Kattilan parkkipaikka. Hyv√§ vaihtoehto Haukkalaammelle." },
  { name:"Haltia P", lat:60.2935, lng:24.5380, desc:"Suomen luontokeskus Haltia. Nuuksiontie 84, Espoo." },
  { name:"H√∂gbacka P", lat:60.3075, lng:24.5470, desc:"H√∂gbackan parkkipaikka. H√∂gbackantie, Espoo." },
  { name:"Salmi P", lat:60.3660, lng:24.5180, desc:"Salmentie 100B, Vihti. Pohjoinen sis√§√§nk√§ynti." },
  { name:"Siikaniemi P", lat:60.2860, lng:24.4780, desc:"Kolmoislammenranta, Espoo. Ei talvikunnossapitoa." },
  { name:"Valklammentie P", lat:60.3250, lng:24.4800, desc:"Valklammentie, Vihti. Klassarinkierroksen l√§ht√∂piste." },
];

// üöª Toilets (dry toilets at main locations)
const toilets = [
  { name:"WC Haukkalampi", lat:60.2988, lng:24.5095, desc:"Kuivak√§ym√§l√§ + vesipiste" },
  { name:"WC Mustalampi it√§", lat:60.2952, lng:24.5160, desc:"Kuivak√§ym√§l√§" },
  { name:"WC Mustalampi l√§nsi", lat:60.2945, lng:24.5130, desc:"Kuivak√§ym√§l√§" },
  { name:"WC Holma-Saarij√§rvi", lat:60.2915, lng:24.4975, desc:"Kuivak√§ym√§l√§" },
  { name:"WC Iso-Holma", lat:60.3020, lng:24.4925, desc:"Kuivak√§ym√§l√§" },
  { name:"WC Urja", lat:60.2850, lng:24.5945, desc:"Kuivak√§ym√§l√§" },
  { name:"WC V√§√§r√§j√§rvi", lat:60.2965, lng:24.6215, desc:"Kuivak√§ym√§l√§" },
  { name:"WC Kattila", lat:60.3180, lng:24.4995, desc:"Kuivak√§ym√§l√§ + j√§tekatos" },
  { name:"WC Haltia", lat:60.2938, lng:24.5375, desc:"Sis√§-WC luontokeskuksessa" },
];

// ‚≠ê Points of interest
const pois = [
  { name:"Suomen luontokeskus Haltia", lat:60.2938, lng:24.5385, desc:"N√§yttely, kahvila, kauppa, WC. Nuuksiontie 84.", url:"https://www.haltia.com" },
  { name:"Hiidenkirnu", lat:60.3170, lng:24.4980, desc:"Nuuksion tunnetuin n√§ht√§vyys. J√§√§kauden muovaama hiidenkirnu.", url:null },
  { name:"Natura Viva Haukanpes√§", lat:60.2990, lng:24.5115, desc:"Vuokrakanootteja, kahvila, opastus. Haukkalammen rannalla.", url:"https://naturaviva.fi" },
];

// Add markers
fires.forEach(p => L.marker([p.lat, p.lng], {icon: icon('üî•')}).addTo(map).bindPopup(popup('üî•', p.name, p.desc, p.lat, p.lng, p.url)));
parking.forEach(p => L.marker([p.lat, p.lng], {icon: icon('üÖøÔ∏è')}).addTo(map).bindPopup(popup('üÖøÔ∏è', p.name, p.desc, p.lat, p.lng, null)));
toilets.forEach(p => L.marker([p.lat, p.lng], {icon: icon('üöª')}).addTo(map).bindPopup(popup('üöª', p.name, p.desc, p.lat, p.lng, null)));
pois.forEach(p => L.marker([p.lat, p.lng], {icon: icon('‚≠ê')}).addTo(map).bindPopup(popup('‚≠ê', p.name, p.desc, p.lat, p.lng, p.url)));

// Legend
const legend = L.control({position: 'bottomright'});
legend.onAdd = function() {
  const div = L.DomUtil.create('div', 'legend');
  div.innerHTML = '<b>Nuuksion palvelut</b>üî• Tulipaikka<br>üÖøÔ∏è Parkkipaikka<br>üöª K√§ym√§l√§<br>‚≠ê N√§ht√§vyys';
  return div;
};
legend.addTo(map);

// Fit bounds
const all = [...fires, ...parking, ...toilets, ...pois];
map.fitBounds(L.latLngBounds(all.map(p => [p.lat, p.lng])).pad(0.05));
</script>
</body>
</html>
