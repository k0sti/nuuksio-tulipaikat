<!DOCTYPE html>
<html>
<head>
<title>Nuuksion tulipaikat & palvelut</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  body { margin: 0; padding: 0; }
  #map { width: 100%; height: 100vh; }
  .marker-icon { font-size: 20px; line-height: 1; }
  .leaflet-popup-content { font-family: -apple-system, sans-serif; max-width: 220px; }
  .leaflet-popup-content h3 { margin: 0 0 4px 0; font-size: 14px; }
  .leaflet-popup-content p { margin: 0 0 8px 0; font-size: 12px; color: #555; line-height: 1.4; }
  .leaflet-popup-content .btn-row { display: flex; gap: 5px; flex-wrap: wrap; }
  .leaflet-popup-content a.btn {
    display: inline-block; color: white; padding: 5px 9px;
    border-radius: 4px; text-decoration: none; font-size: 11px; font-weight: bold;
  }
  .btn-nav { background: #4285f4; } .btn-nav:hover { background: #3367d6; }
  .btn-info { background: #34a853; } .btn-info:hover { background: #2d8f47; }
  .legend {
    background: white; padding: 10px 14px; border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,.3); font: 12px -apple-system, sans-serif; line-height: 1.8;
  }
  .legend b { display: block; margin-bottom: 4px; }
</style>
</head>
<body>
<div id="map"></div>
<script>
const map = L.map('map').setView([60.31, 24.51], 13);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '¬© OpenStreetMap', maxZoom: 18
}).addTo(map);

function ic(e) { return L.divIcon({html:e, className:'marker-icon', iconSize:[20,20], iconAnchor:[10,10]}); }

function pp(emoji, name, desc, lat, lng, url) {
  const g = `https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}&travelmode=walking`;
  const i = url ? `<a class="btn btn-info" href="${url}" target="_blank">‚ÑπÔ∏è Info</a>` : '';
  return `<h3>${emoji} ${name}</h3><p>${desc}</p><div class="btn-row"><a class="btn btn-nav" href="${g}" target="_blank">üìç Navigate</a>${i}</div>`;
}

// üî• Fireplaces (OSM verified coordinates)
const fires = [
  {n:"Haukanholma",lat:60.30974,lng:24.50624,d:"Keittokatos, tulipaikka, telttailualue, k√§ym√§l√§. Suosituin!",u:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/haukanholman-tulipaikka"},
  {n:"Mustalampi",lat:60.30550,lng:24.51209,d:"Keittokatos + avotulipaikka. Kelluvat turvelautat!",u:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/mustalammen-tulipaikat"},
  {n:"Holma-Saarij√§rvi l√§nsi",lat:60.30195,lng:24.49127,d:"L√§ntinen tulipaikka, telttailu, k√§ym√§l√§.",u:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/saarilammen-tulipaikka"},
  {n:"Holma-Saarij√§rvi it√§",lat:60.30144,lng:24.49424,d:"It√§inen tulipaikka saaressa (silta).",u:null},
  {n:"Holma-Saarij√§rvi laavu",lat:60.30125,lng:24.49621,d:"Laavun tulipaikka.",u:null},
  {n:"Iso-Holma",lat:60.31209,lng:24.48620,d:"Tulipaikka, telttailualue, k√§ym√§l√§.",u:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/iso-holman-tulipaikat"},
  {n:"Urja / Kattilaj√§rvi keittokatos",lat:60.29692,lng:24.61717,d:"Keittokatos j√§rven rannalla.",u:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/kattilajarven-tulipaikka"},
  {n:"Kattila",lat:60.32595,lng:24.49278,d:"Keittokatos, k√§ym√§l√§, varauskota, -tupa, 2 saunaa. Hiidenkirnu!",u:"https://naturaviva.fi/fi_FI/tulipaikat-nuuksion-kansallispuistossa/kattilan-tulipaikka"},
  {n:"V√§√§r√§j√§rvi",lat:60.30878,lng:24.62255,d:"Tulipaikka + telttailu.",u:"https://naturaviva.fi/fi_FI/vaarajarven-tulipaikka"},
];

// üöª Toilets (OSM verified)
const toilets = [
  {n:"WC Haukanholma",lat:60.31011,lng:24.50786,d:"Kuivak√§ym√§l√§"},
  {n:"WC Mustalampi",lat:60.29537,lng:24.51479,d:"Kuivak√§ym√§l√§"},
  {n:"WC Holma-Saarij√§rvi l√§nsi",lat:60.30219,lng:24.49137,d:"Kuivak√§ym√§l√§"},
  {n:"WC Iso-Holma",lat:60.31209,lng:24.48619,d:"Kuivak√§ym√§l√§"},
  {n:"WC Kattilaj√§rvi",lat:60.29680,lng:24.61815,d:"Kuivak√§ym√§l√§"},
  {n:"WC Urja",lat:60.29683,lng:24.59391,d:"Kuivak√§ym√§l√§"},
  {n:"WC Kattila (uusi)",lat:60.32567,lng:24.49375,d:"Kuivak√§ym√§l√§"},
  {n:"WC Kattila kammi",lat:60.32545,lng:24.49436,d:"Kuivak√§ym√§l√§"},
  {n:"WC Kattila yl√§",lat:60.32712,lng:24.49224,d:"Kuivak√§ym√§l√§"},
  {n:"WC Kattila ala",lat:60.32747,lng:24.49346,d:"Kuivak√§ym√§l√§"},
  {n:"WC Kolmoislammenranta",lat:60.29464,lng:24.50299,d:"Kuivak√§ym√§l√§"},
  {n:"WC Takala",lat:60.33664,lng:24.50070,d:"Kuivak√§ym√§l√§"},
  {n:"WC V√§√§r√§j√§rvi",lat:60.30895,lng:24.62339,d:"Kuivak√§ym√§l√§"},
  {n:"WC Haltia",lat:60.28003,lng:24.51752,d:"Sis√§-WC luontokeskuksessa"},
];

// üÖøÔ∏è Parking (OSM verified)
const parking = [
  {n:"Haukkalampi P (pieni)",lat:60.30969,lng:24.51692,d:"Pieni pys√§k√∂intialue. Usein t√§ynn√§!"},
  {n:"Haukkalampi P (iso)",lat:60.30954,lng:24.52037,d:"Iso pys√§k√∂intialue."},
  {n:"Kattila peltoparkkipaikka",lat:60.32696,lng:24.49615,d:"Kattilan ylempi parkki."},
  {n:"Kattila alaparkkipaikka",lat:60.32824,lng:24.49398,d:"Kattilan alempi parkki."},
  {n:"Kattilantie P",lat:60.31980,lng:24.52559,d:"Kattilantien pys√§k√∂intialue."},
  {n:"H√∂gbacka P",lat:60.32029,lng:24.52138,d:"H√∂gbackan parkkipaikka."},
  {n:"Siikaniemi P",lat:60.28930,lng:24.51462,d:"Ei talvikunnossapitoa."},
  {n:"Kolmoislampi P",lat:60.29343,lng:24.52158,d:"Kolmoislammen parkkipaikka."},
  {n:"Kattilaj√§rvi P",lat:60.29844,lng:24.62076,d:"Kattilaj√§rven parkkipaikka."},
  {n:"Salmi / Nuuksion vieraille",lat:60.35843,lng:24.51266,d:"Pohjoinen sis√§√§nk√§ynti."},
];

// ‚≠ê Points of interest
const pois = [
  {n:"Suomen luontokeskus Haltia",lat:60.2800,lng:24.5175,d:"N√§yttely, kahvila, kauppa, WC.",u:"https://www.haltia.com"},
  {n:"Hiidenkirnu",lat:60.3273,lng:24.4955,d:"Nuuksion tunnetuin n√§ht√§vyys. J√§√§kauden muovaama.",u:null},
  {n:"Natura Viva Haukanpes√§",lat:60.3095,lng:24.5070,d:"Kanoottivuokraus, kahvila, opastus.",u:"https://naturaviva.fi"},
  {n:"Mustalammen keittokatos",lat:60.30574,lng:24.50996,d:"Katettu keittokatos Mustalammen rannalla.",u:null},
];

fires.forEach(p => L.marker([p.lat,p.lng],{icon:ic('üî•')}).addTo(map).bindPopup(pp('üî•',p.n,p.d,p.lat,p.lng,p.u)));
toilets.forEach(p => L.marker([p.lat,p.lng],{icon:ic('üöª')}).addTo(map).bindPopup(pp('üöª',p.n,p.d,p.lat,p.lng,null)));
parking.forEach(p => L.marker([p.lat,p.lng],{icon:ic('üÖøÔ∏è')}).addTo(map).bindPopup(pp('üÖøÔ∏è',p.n,p.d,p.lat,p.lng,null)));
pois.forEach(p => L.marker([p.lat,p.lng],{icon:ic('‚≠ê')}).addTo(map).bindPopup(pp('‚≠ê',p.n,p.d,p.lat,p.lng,p.u)));

const legend = L.control({position:'bottomright'});
legend.onAdd = function(){
  const d = L.DomUtil.create('div','legend');
  d.innerHTML = '<b>Nuuksio</b>üî• Tulipaikka<br>üÖøÔ∏è Pys√§k√∂inti<br>üöª K√§ym√§l√§<br>‚≠ê N√§ht√§vyys';
  return d;
};
legend.addTo(map);

const all = [...fires,...parking,...toilets,...pois];
map.fitBounds(L.latLngBounds(all.map(p=>[p.lat,p.lng])).pad(0.05));
</script>
</body>
</html>
